<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" xmlns:local="*" height="100%" width="100%" applicationComplete="appLoaded()"
	creationComplete="setProgramStyles()">
	<mx:Script>
		<![CDATA[
			import mx.core.IFlexDisplayObject;
			import mx.containers.TitleWindow;
			import mx.managers.PopUpManager;
			import mx.events.CloseEvent;
			Security.loadPolicyFile("http://api.bing.net/crossdomain.xml");
			private function appLoaded():void
			{
				trace("app actually loaded");
			}
			
			private function setProgramStyles():void
			{
				var tw:TitleWindow = TitleWindow(PopUpManager.createPopUp(this, StyleSelector, false));
				tw.title = "Similar Searches";
				tw.showCloseButton = true;
				tw.addEventListener(CloseEvent.CLOSE, removeSimilarSearchPopUp);
			}
			
			/**
			 * Remove the PopUpWindow when the user clicks the X
			 */ 
			private function removeSimilarSearchPopUp(event:CloseEvent):void
			{
				PopUpManager.removePopUp(IFlexDisplayObject(event.currentTarget));
			}
			
			private function doSetProgramStyles(fontOffset:int):void
			{
				StyleManager.getStyleDeclaration(".BigNewsHeading")
			}
		]]>
	</mx:Script>
	
	<mx:Style>
		.BigNewsHeading {
			font-size:20;
			font-weight:bold;
		}
		.TabNavigation {
			font-size:12;
			font-weight:normal;
		}
		.SearchBarInput {
			font-size:12;
			font-weight:normal;
		}
		.SearchResultPageButtons {
			font-size:12;
			font-weight:bold;
		}
		.SearchResultPageNumbers {
			font-size:10;
			font-weight:normal;
		}
		.SimilarSearchLinkButton {
			font-size:10;
			font-weight:normal;
		}
		.ArticleTitle {
			font-size:14;
			font-weight:bold;
		}
		.ArticleSnippet {
			font-size:12;
			font-weight:normal;
		}
		.SearchButton {
			font-size:12;
			font-weight:bold;
		}
		.HistoryQuery {
			font-size:12;
			font-weight:normal;
		}
	</mx:Style>
	
	<mx:VBox width="100%" height="100%">
		<local:SearchBar id="searchbar" height="109" width="100%"/>
	
		<mx:ViewStack id="resultViewStack" width="100%" height="100%" selectedIndex="0"
			creationPolicy="all">
			
			<local:Headlines id="headlines" height="100%" width="100%">
				
			</local:Headlines>
		
			<local:SearchResults id="searchresults" height="100%" width="100%">
				
			</local:SearchResults>
		</mx:ViewStack>
	
	</mx:VBox>
	
</mx:Application>
